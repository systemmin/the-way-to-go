# 文件

文件用于上传可与[微调](/api/微调)等功能一起使用的文档。

## 文件列表

`GET` `https://api.openai.com/v1/files`

返回属于用户组织的文件列表。

### 请求示例

<CodeGroup>
  <CodeGroupItem title="curl" active>

```bash:
curl https://api.openai.com/v1/files \
  -H 'Authorization: Bearer YOUR_API_KEY'
```

  </CodeGroupItem>

  <CodeGroupItem title="python">

```python:
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.File.list()
```

  </CodeGroupItem>

  <CodeGroupItem title="node.js" >

```javascript:
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.listFiles();
```

  </CodeGroupItem>
</CodeGroup>

### 响应结果

```json
{
  "data": [
    {
      "id": "file-ccdDZrC3iZVNiQVeEA6Z66wf",
      "object": "file",
      "bytes": 175,
      "created_at": 1613677385,
      "filename": "train.jsonl",
      "purpose": "search"
    },
    {
      "id": "file-XjGxS3KTG0uNmNOK362iJua3",
      "object": "file",
      "bytes": 140,
      "created_at": 1613779121,
      "filename": "puppy.jsonl",
      "purpose": "search"
    }
  ],
  "object": "list"
}
```

## 上传文件

`POST` `https://api.openai.com/v1/files`

上传包含要跨各种端点/功能使用的文档的文件。目前，一个组织上传的所有文件的大小最大可达 1 GB。如果您需要增加存储限制，请联系我们。

### 请求正文

**file** `string` `必填`

要上传的 [JSON 行](https://jsonlines.readthedocs.io/en/latest/)文件的名称。

如果 `purpose`置为“微调”，则每一行都是一个 JSON 记录，其中包含代表您的[训练示例](/guides/微调.html#准备训练数据)的“提示”和“补全”字段。

**purpose** `string` `必填`

上传文件的预期目的。

使用“微调”进行[微调](/api/微调)。这使我们能够验证上传文件的格式。

### 请求示例

<CodeGroup>
  <CodeGroupItem title="curl" active>

```bash:
curl https://api.openai.com/v1/files \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -F purpose="fine-tune" \
  -F file='@mydata.jsonl'
```

  </CodeGroupItem>

  <CodeGroupItem title="python">

```python:
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.File.create(
  file=open("mydata.jsonl", "rb"),
  purpose='fine-tune'
)
```

  </CodeGroupItem>

  <CodeGroupItem title="node.js" >

```javascript:
const fs = require("fs");
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.createFile(
  fs.createReadStream("mydata.jsonl"),
  "fine-tune"
);
```

  </CodeGroupItem>
</CodeGroup>


### 响应结果

```json
{
  "id": "file-XjGxS3KTG0uNmNOK362iJua3",
  "object": "file",
  "bytes": 140,
  "created_at": 1613779121,
  "filename": "mydata.jsonl",
  "purpose": "fine-tune"
}
```

## 删除文件

`DELETE` `https://api.openai.com/v1/files/{file_id}`

删除文件

### 路径参数

用于此请求的文件的 ID

### 请求示例

<CodeGroup>
  <CodeGroupItem title="curl" active>

```bash:
curl https://api.openai.com/v1/files/file-XjGxS3KTG0uNmNOK362iJua3 \
  -X DELETE \
  -H 'Authorization: Bearer YOUR_API_KEY'
```

  </CodeGroupItem>

  <CodeGroupItem title="python">

```python:
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.File.delete("file-XjGxS3KTG0uNmNOK362iJua3")
```

  </CodeGroupItem>

  <CodeGroupItem title="node.js" >

```javascript:
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.deleteFile("file-XjGxS3KTG0uNmNOK362iJua3");
```

  </CodeGroupItem>
</CodeGroup>


### 响应结果

```json
{
  "id": "file-XjGxS3KTG0uNmNOK362iJua3",
  "object": "file",
  "deleted": true
}
```

## 检索文件

`GET` `https://api.openai.com/v1/files/{file_id}`

返回有关指定文件的信息。

### 路径参数

用于此请求的文件的 ID

### 请求示例

<CodeGroup>
  <CodeGroupItem title="curl" active>

```bash:
curl https://api.openai.com/v1/files/file-XjGxS3KTG0uNmNOK362iJua3 \
  -H 'Authorization: Bearer YOUR_API_KEY'
```

  </CodeGroupItem>

  <CodeGroupItem title="python">

```python:
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.File.retrieve("file-XjGxS3KTG0uNmNOK362iJua3")
```

  </CodeGroupItem>

  <CodeGroupItem title="node.js" >

```javascript:
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.retrieveFile("file-XjGxS3KTG0uNmNOK362iJua3");
```

  </CodeGroupItem>
</CodeGroup>


### 响应结果

```json
{
  "id": "file-XjGxS3KTG0uNmNOK362iJua3",
  "object": "file",
  "bytes": 140,
  "created_at": 1613779657,
  "filename": "mydata.jsonl",
  "purpose": "fine-tune"
}
```

## 检索文件内容

`GET` `https://api.openai.com/v1/files/{file_id}/content`

返回指定文件的内容

### 路径参数

用于此请求的文件的 ID

### 请求示例

<CodeGroup>
  <CodeGroupItem title="curl" active>

```bash:
curl https://api.openai.com/v1/files/file-XjGxS3KTG0uNmNOK362iJua3/content \
  -H 'Authorization: Bearer YOUR_API_KEY' > file.jsonl
```

  </CodeGroupItem>

  <CodeGroupItem title="python">

```python:
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
content = openai.File.download("file-XjGxS3KTG0uNmNOK362iJua3")
```

  </CodeGroupItem>

  <CodeGroupItem title="node.js" >

```javascript:
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.downloadFile("file-XjGxS3KTG0uNmNOK362iJua3");
```

  </CodeGroupItem>
</CodeGroup>