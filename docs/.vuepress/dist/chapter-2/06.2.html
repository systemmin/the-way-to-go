<!doctype html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>6.2 函数参数与返回值 | Go 入门指南 </title><meta name="description" content="The Way to Go">
    <link rel="preload" href="/assets/style-PoWje89h.css" as="style"><link rel="stylesheet" href="/assets/style-PoWje89h.css">
    <link rel="modulepreload" href="/assets/app-DtITwm2S.js"><link rel="modulepreload" href="/assets/06.2.html-DjwDsn8t.js">
    <link rel="prefetch" href="/assets/preface.html-6DZH9Ubj.js" as="script"><link rel="prefetch" href="/assets/index.html-Ck8S5GDx.js" as="script"><link rel="prefetch" href="/assets/介绍.html-Cpc4HhS7.js" as="script"><link rel="prefetch" href="/assets/参数详情.html-7jPPiiO-.js" as="script"><link rel="prefetch" href="/assets/图像.html-CuiCV0kQ.js" as="script"><link rel="prefetch" href="/assets/审核.html-CNJ5oBgL.js" as="script"><link rel="prefetch" href="/assets/嵌入.html-Dm-ZcblN.js" as="script"><link rel="prefetch" href="/assets/引擎.html-C2kiFg-p.js" as="script"><link rel="prefetch" href="/assets/微调.html-DTcL4LME.js" as="script"><link rel="prefetch" href="/assets/文件.html-B29chMrc.js" as="script"><link rel="prefetch" href="/assets/模型.html-CrDaD65q.js" as="script"><link rel="prefetch" href="/assets/编辑.html-BIzO3lYW.js" as="script"><link rel="prefetch" href="/assets/补全.html-DTG8jPu_.js" as="script"><link rel="prefetch" href="/assets/01.1.html-Z7EtjgVs.js" as="script"><link rel="prefetch" href="/assets/01.2.html-BwUS2dml.js" as="script"><link rel="prefetch" href="/assets/02.1.html-DnOKmj_n.js" as="script"><link rel="prefetch" href="/assets/02.2.html-CnA2ZrR6.js" as="script"><link rel="prefetch" href="/assets/02.3.html-CoFfj52b.js" as="script"><link rel="prefetch" href="/assets/02.4.html-DAz_ml-6.js" as="script"><link rel="prefetch" href="/assets/02.5.html-DmYKmXg1.js" as="script"><link rel="prefetch" href="/assets/02.6.html-DGi6Udpr.js" as="script"><link rel="prefetch" href="/assets/02.7.html-DvXtNgwQ.js" as="script"><link rel="prefetch" href="/assets/02.8.html-LfWDv4MS.js" as="script"><link rel="prefetch" href="/assets/03.0.html-Brqlbw8D.js" as="script"><link rel="prefetch" href="/assets/03.1.html-C5oriWik.js" as="script"><link rel="prefetch" href="/assets/03.2.html-C42QINy-.js" as="script"><link rel="prefetch" href="/assets/03.3.html-OpHmP4_E.js" as="script"><link rel="prefetch" href="/assets/03.4.html-aFAI61qP.js" as="script"><link rel="prefetch" href="/assets/03.5.html-Bo_f3Dfr.js" as="script"><link rel="prefetch" href="/assets/03.6.html-B7IBUoJs.js" as="script"><link rel="prefetch" href="/assets/03.7.html-BZiieTGR.js" as="script"><link rel="prefetch" href="/assets/03.8.html-D47bQyKy.js" as="script"><link rel="prefetch" href="/assets/03.9.html-Cf7XBq53.js" as="script"><link rel="prefetch" href="/assets/04.1.html-CNJSY0aV.js" as="script"><link rel="prefetch" href="/assets/04.2.html-cbGABghB.js" as="script"><link rel="prefetch" href="/assets/04.3.html-DXSHS8OT.js" as="script"><link rel="prefetch" href="/assets/04.4.html-4CBNpzSp.js" as="script"><link rel="prefetch" href="/assets/04.5.html-PPJYnsQq.js" as="script"><link rel="prefetch" href="/assets/04.6.html-DGmv1gR6.js" as="script"><link rel="prefetch" href="/assets/04.7.html-DhSmhFJM.js" as="script"><link rel="prefetch" href="/assets/04.8.html-CjawH_DY.js" as="script"><link rel="prefetch" href="/assets/04.9.html-qM_qrQS7.js" as="script"><link rel="prefetch" href="/assets/05.0.html-BhrgSVnv.js" as="script"><link rel="prefetch" href="/assets/05.1.html-DlqruRIh.js" as="script"><link rel="prefetch" href="/assets/05.2.html-CGcsXjWq.js" as="script"><link rel="prefetch" href="/assets/05.3.html-C4aXLyaR.js" as="script"><link rel="prefetch" href="/assets/05.4.html-Begn-oRO.js" as="script"><link rel="prefetch" href="/assets/05.5.html-DgACCQDR.js" as="script"><link rel="prefetch" href="/assets/05.6.html-zrm9lfOP.js" as="script"><link rel="prefetch" href="/assets/06.0.html-Cq0Q4zjI.js" as="script"><link rel="prefetch" href="/assets/06.1.html-CwG3jZMg.js" as="script"><link rel="prefetch" href="/assets/06.10.html-NAZ4iIbE.js" as="script"><link rel="prefetch" href="/assets/06.11.html-DyPB_V4f.js" as="script"><link rel="prefetch" href="/assets/06.12.html-Che8zprd.js" as="script"><link rel="prefetch" href="/assets/06.3.html-Tt2q3aID.js" as="script"><link rel="prefetch" href="/assets/06.4.html-Cn_c8Aw_.js" as="script"><link rel="prefetch" href="/assets/06.5.html-B2O1T7XP.js" as="script"><link rel="prefetch" href="/assets/06.6.html-Xbsxp1rt.js" as="script"><link rel="prefetch" href="/assets/06.7.html-BRlGcWj-.js" as="script"><link rel="prefetch" href="/assets/06.8.html-CH2taiAQ.js" as="script"><link rel="prefetch" href="/assets/06.9.html-CU4R_era.js" as="script"><link rel="prefetch" href="/assets/07.0.html-C-_7USg4.js" as="script"><link rel="prefetch" href="/assets/07.1.html-D0BpTwwY.js" as="script"><link rel="prefetch" href="/assets/07.2.html-C8lUrkIP.js" as="script"><link rel="prefetch" href="/assets/07.3.html-B1_IRZfJ.js" as="script"><link rel="prefetch" href="/assets/07.4.html-AsDoIa-O.js" as="script"><link rel="prefetch" href="/assets/07.5.html-j4dDJSHq.js" as="script"><link rel="prefetch" href="/assets/07.6.html-B5Jb-JAa.js" as="script"><link rel="prefetch" href="/assets/08.0.html-Z4KWQe4B.js" as="script"><link rel="prefetch" href="/assets/08.1.html-DuSqll6N.js" as="script"><link rel="prefetch" href="/assets/08.2.html-BOoIx8_8.js" as="script"><link rel="prefetch" href="/assets/08.3.html-DGNSIGhe.js" as="script"><link rel="prefetch" href="/assets/08.4.html-sZLPjRoc.js" as="script"><link rel="prefetch" href="/assets/08.5.html-Cg1fn4KQ.js" as="script"><link rel="prefetch" href="/assets/08.6.html-C5s5pV7e.js" as="script"><link rel="prefetch" href="/assets/09.0.html-CDAHZh08.js" as="script"><link rel="prefetch" href="/assets/09.1.html-B86Zb4ds.js" as="script"><link rel="prefetch" href="/assets/09.10.html-DqwOV0e7.js" as="script"><link rel="prefetch" href="/assets/09.11.html-C6tNGK9S.js" as="script"><link rel="prefetch" href="/assets/09.2.html-xe8QrE6h.js" as="script"><link rel="prefetch" href="/assets/09.3.html-CstTfhC4.js" as="script"><link rel="prefetch" href="/assets/09.4.html-BraVc6VC.js" as="script"><link rel="prefetch" href="/assets/09.5.html-CFQyzd6x.js" as="script"><link rel="prefetch" href="/assets/09.6.html-BJdkFgKO.js" as="script"><link rel="prefetch" href="/assets/09.7.html-Ch6xJUNQ.js" as="script"><link rel="prefetch" href="/assets/09.8.html-CTy-_9Sp.js" as="script"><link rel="prefetch" href="/assets/09.9.html-BsOj6Y3D.js" as="script"><link rel="prefetch" href="/assets/10.0.html-BJ3HaT6e.js" as="script"><link rel="prefetch" href="/assets/10.1.html-D8BS7BvM.js" as="script"><link rel="prefetch" href="/assets/10.2.html-BWsGTQyI.js" as="script"><link rel="prefetch" href="/assets/10.3.html-BhdBntye.js" as="script"><link rel="prefetch" href="/assets/10.4.html-B4v_wLqb.js" as="script"><link rel="prefetch" href="/assets/10.5.html-D_TpCHYU.js" as="script"><link rel="prefetch" href="/assets/10.6.html-5q-HRLQu.js" as="script"><link rel="prefetch" href="/assets/10.7.html-CsL-USic.js" as="script"><link rel="prefetch" href="/assets/10.8.html-cU_UYmP8.js" as="script"><link rel="prefetch" href="/assets/11.0.html-DzOFNLkI.js" as="script"><link rel="prefetch" href="/assets/11.1.html-CVDneARq.js" as="script"><link rel="prefetch" href="/assets/11.10.html-DLdzgM0_.js" as="script"><link rel="prefetch" href="/assets/11.11.html-ZUEf79aZ.js" as="script"><link rel="prefetch" href="/assets/11.12.html-moio86bV.js" as="script"><link rel="prefetch" href="/assets/11.13.html-CvewV3ew.js" as="script"><link rel="prefetch" href="/assets/11.14.html-CwU5qxN5.js" as="script"><link rel="prefetch" href="/assets/11.2.html-B8Xk39Ru.js" as="script"><link rel="prefetch" href="/assets/11.3.html-DP6_wJQP.js" as="script"><link rel="prefetch" href="/assets/11.4.html-49fB7Xvo.js" as="script"><link rel="prefetch" href="/assets/11.5.html-DTac0CFp.js" as="script"><link rel="prefetch" href="/assets/11.6.html-Jj-71bcb.js" as="script"><link rel="prefetch" href="/assets/11.7.html-DJYEY4EJ.js" as="script"><link rel="prefetch" href="/assets/11.8.html-DPQr1oVG.js" as="script"><link rel="prefetch" href="/assets/11.9.html-Bt0bssir.js" as="script"><link rel="prefetch" href="/assets/12.0.html-dQogtLlq.js" as="script"><link rel="prefetch" href="/assets/12.1.html-DXE_mHUo.js" as="script"><link rel="prefetch" href="/assets/12.10.html-BK1ALSfx.js" as="script"><link rel="prefetch" href="/assets/12.11.html-CrpC0jD-.js" as="script"><link rel="prefetch" href="/assets/12.12.html-CooGcF3E.js" as="script"><link rel="prefetch" href="/assets/12.2.html-ZVTyjB2f.js" as="script"><link rel="prefetch" href="/assets/12.3.html-qMk0sbyO.js" as="script"><link rel="prefetch" href="/assets/12.4.html-BF7d9E3U.js" as="script"><link rel="prefetch" href="/assets/12.5.html-DOFf0ilh.js" as="script"><link rel="prefetch" href="/assets/12.6.html-BsP--Ufk.js" as="script"><link rel="prefetch" href="/assets/12.7.html-1MPkaJXj.js" as="script"><link rel="prefetch" href="/assets/12.8.html-D8GtXQQP.js" as="script"><link rel="prefetch" href="/assets/12.9.html-CohRgBpn.js" as="script"><link rel="prefetch" href="/assets/13.0.html-CreAz5ks.js" as="script"><link rel="prefetch" href="/assets/13.1.html-D4zIWXVh.js" as="script"><link rel="prefetch" href="/assets/13.10.html-kNO9rh1U.js" as="script"><link rel="prefetch" href="/assets/13.2.html-C1yU2SpY.js" as="script"><link rel="prefetch" href="/assets/13.3.html-Cu4mGJyA.js" as="script"><link rel="prefetch" href="/assets/13.4.html-aR-Ee4EY.js" as="script"><link rel="prefetch" href="/assets/13.5.html-CEXE33nx.js" as="script"><link rel="prefetch" href="/assets/13.6.html-qMxTM7Tz.js" as="script"><link rel="prefetch" href="/assets/13.7.html-DsdN0OYU.js" as="script"><link rel="prefetch" href="/assets/13.8.html-BOmUwdax.js" as="script"><link rel="prefetch" href="/assets/13.9.html-7ZkPdMJ9.js" as="script"><link rel="prefetch" href="/assets/14.0.html-DurcTcL0.js" as="script"><link rel="prefetch" href="/assets/14.1.html-Ccp03uCw.js" as="script"><link rel="prefetch" href="/assets/14.10.html-DNbGnvEw.js" as="script"><link rel="prefetch" href="/assets/14.11.html-DbHSQcwt.js" as="script"><link rel="prefetch" href="/assets/14.12.html-B7qfHHg1.js" as="script"><link rel="prefetch" href="/assets/14.13.html-xlP1FcQ7.js" as="script"><link rel="prefetch" href="/assets/14.14.html-DEZkci8M.js" as="script"><link rel="prefetch" href="/assets/14.15.html-CcpRz-rx.js" as="script"><link rel="prefetch" href="/assets/14.16.html-B-ml7ep0.js" as="script"><link rel="prefetch" href="/assets/14.17.html-BwGR0yvk.js" as="script"><link rel="prefetch" href="/assets/14.2.html-BhMOdHKe.js" as="script"><link rel="prefetch" href="/assets/14.3.html-Cv7YtU1e.js" as="script"><link rel="prefetch" href="/assets/14.4.html-BlRZuBKg.js" as="script"><link rel="prefetch" href="/assets/14.5.html-De90eIKp.js" as="script"><link rel="prefetch" href="/assets/14.6.html-Dd7pNYkF.js" as="script"><link rel="prefetch" href="/assets/14.7.html-BbeVVSs6.js" as="script"><link rel="prefetch" href="/assets/14.8.html-D1E1Xwbs.js" as="script"><link rel="prefetch" href="/assets/14.9.html-DzyJl1-8.js" as="script"><link rel="prefetch" href="/assets/15.0.html-B3-P-DUo.js" as="script"><link rel="prefetch" href="/assets/15.1.html-BMAzaA0V.js" as="script"><link rel="prefetch" href="/assets/15.10.html-DpzmUNMu.js" as="script"><link rel="prefetch" href="/assets/15.11.html-Bs9z6Z8J.js" as="script"><link rel="prefetch" href="/assets/15.12.html-JAFWQ0iJ.js" as="script"><link rel="prefetch" href="/assets/15.2.html-ijnhu5Y0.js" as="script"><link rel="prefetch" href="/assets/15.3.html-XHvjsG9O.js" as="script"><link rel="prefetch" href="/assets/15.4.html-Bz5HcOrf.js" as="script"><link rel="prefetch" href="/assets/15.5.html-CmBNVHwb.js" as="script"><link rel="prefetch" href="/assets/15.6.html-C3W-qtEi.js" as="script"><link rel="prefetch" href="/assets/15.7.html-Ddy0cxF4.js" as="script"><link rel="prefetch" href="/assets/15.8.html-DFC4gFUj.js" as="script"><link rel="prefetch" href="/assets/15.9.html-BiAzkYze.js" as="script"><link rel="prefetch" href="/assets/16.0.html-CIktAcLr.js" as="script"><link rel="prefetch" href="/assets/16.1.html-BpZdp4DD.js" as="script"><link rel="prefetch" href="/assets/16.10.html-BRKt5szr.js" as="script"><link rel="prefetch" href="/assets/16.2.html-CXui5XC-.js" as="script"><link rel="prefetch" href="/assets/16.3.html-Db08GLZQ.js" as="script"><link rel="prefetch" href="/assets/16.4.html-ex0KQROM.js" as="script"><link rel="prefetch" href="/assets/16.5.html-VsStOsvR.js" as="script"><link rel="prefetch" href="/assets/16.6.html-CWmZSI_2.js" as="script"><link rel="prefetch" href="/assets/16.7.html-CM4b5Jye.js" as="script"><link rel="prefetch" href="/assets/16.8.html-BalzATae.js" as="script"><link rel="prefetch" href="/assets/16.9.html-BfrhOnAb.js" as="script"><link rel="prefetch" href="/assets/17.0.html-CXHUrq6G.js" as="script"><link rel="prefetch" href="/assets/17.1.html-AGPT-RqU.js" as="script"><link rel="prefetch" href="/assets/17.2.html-Bb16WCnH.js" as="script"><link rel="prefetch" href="/assets/17.3.html-BpyAewq3.js" as="script"><link rel="prefetch" href="/assets/17.4.html-cBjMNRvf.js" as="script"><link rel="prefetch" href="/assets/18.0.html-rKm7zc3d.js" as="script"><link rel="prefetch" href="/assets/18.1.html-gQMwXB-y.js" as="script"><link rel="prefetch" href="/assets/18.10.html-DYEiSx14.js" as="script"><link rel="prefetch" href="/assets/18.11.html-CBA8UOoD.js" as="script"><link rel="prefetch" href="/assets/18.2.html-CTZApRcd.js" as="script"><link rel="prefetch" href="/assets/18.3.html-Dcb-fo-l.js" as="script"><link rel="prefetch" href="/assets/18.4.html-VbPUvJ1W.js" as="script"><link rel="prefetch" href="/assets/18.5.html-wWA9_3iL.js" as="script"><link rel="prefetch" href="/assets/18.6.html-C71a0u1a.js" as="script"><link rel="prefetch" href="/assets/18.7.html-9WzyG31d.js" as="script"><link rel="prefetch" href="/assets/18.8.html-xOxRJQmB.js" as="script"><link rel="prefetch" href="/assets/18.9.html-DS96uovJ.js" as="script"><link rel="prefetch" href="/assets/19.0.html-DfbBkvWu.js" as="script"><link rel="prefetch" href="/assets/19.1.html-1XfJVBPI.js" as="script"><link rel="prefetch" href="/assets/19.10.html--4BRYOye.js" as="script"><link rel="prefetch" href="/assets/19.2.html-PzkPaejK.js" as="script"><link rel="prefetch" href="/assets/19.3.html-Dhqr7Iwc.js" as="script"><link rel="prefetch" href="/assets/19.4.html-1Toz6F77.js" as="script"><link rel="prefetch" href="/assets/19.5.html-BhWIqAga.js" as="script"><link rel="prefetch" href="/assets/19.6.html-Ba6ga2O7.js" as="script"><link rel="prefetch" href="/assets/19.7.html-BfH6T1_e.js" as="script"><link rel="prefetch" href="/assets/19.8.html-Buh82owD.js" as="script"><link rel="prefetch" href="/assets/19.9.html-Ck68g8vc.js" as="script"><link rel="prefetch" href="/assets/20.0.html-B8c35N13.js" as="script"><link rel="prefetch" href="/assets/20.1.html-BT42TUQN.js" as="script"><link rel="prefetch" href="/assets/20.2.html-pJjft2Jz.js" as="script"><link rel="prefetch" href="/assets/20.3.html-DJ3pzRtd.js" as="script"><link rel="prefetch" href="/assets/20.4.html-CQWeeuFr.js" as="script"><link rel="prefetch" href="/assets/20.5.html-Bs422AVL.js" as="script"><link rel="prefetch" href="/assets/20.6.html-CflDr4LM.js" as="script"><link rel="prefetch" href="/assets/20.7.html-CH2ZzonR.js" as="script"><link rel="prefetch" href="/assets/20.8.html-Bdietje8.js" as="script"><link rel="prefetch" href="/assets/21.0.html-zvMiB2jK.js" as="script"><link rel="prefetch" href="/assets/21.1.html-DGmS19j8.js" as="script"><link rel="prefetch" href="/assets/21.2.html-CpWQo4j1.js" as="script"><link rel="prefetch" href="/assets/21.3.html-0OFiGCR_.js" as="script"><link rel="prefetch" href="/assets/21.4.html-5BrXRnkE.js" as="script"><link rel="prefetch" href="/assets/21.5.html-DPEV2HhV.js" as="script"><link rel="prefetch" href="/assets/代码补全.html-BUBz9Fwc.js" as="script"><link rel="prefetch" href="/assets/图像生成.html-CfCSRVaC.js" as="script"><link rel="prefetch" href="/assets/安全最佳实践.html-SoPVYDvG.js" as="script"><link rel="prefetch" href="/assets/审核.html-DKB7LJQp.js" as="script"><link rel="prefetch" href="/assets/嵌入.html-D-0DUkFJ.js" as="script"><link rel="prefetch" href="/assets/微调.html-B3jYGIVH.js" as="script"><link rel="prefetch" href="/assets/文本补全.html-CaPPW8UW.js" as="script"><link rel="prefetch" href="/assets/生产最佳实践.html-C2brpABt.js" as="script"><link rel="prefetch" href="/assets/速率限制.html-WEy4cpmi.js" as="script"><link rel="prefetch" href="/assets/错误状态码.html-beVo4FUJ.js" as="script"><link rel="prefetch" href="/assets/介绍.html-DWSLTx96.js" as="script"><link rel="prefetch" href="/assets/使用政策.html-B58OOuRc.js" as="script"><link rel="prefetch" href="/assets/如何构建可以回答有关您网站的问题的-AI.html-BASypKYV.js" as="script"><link rel="prefetch" href="/assets/库.html-CKEmRIu8.js" as="script"><link rel="prefetch" href="/assets/快速开始.html-Bi0cQAVx.js" as="script"><link rel="prefetch" href="/assets/教程.html-CdbZYQLZ.js" as="script"><link rel="prefetch" href="/assets/模型.html-D9OC_ema.js" as="script"><link rel="prefetch" href="/assets/404.html-6BVqY2BK.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-BreutQJ-.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/images/logo.svg" alt="Go 入门指南 "><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Go 入门指南 </span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://openai.com/" aria-label="官网" rel="noopener noreferrer" target="_blank"><!---->官网<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/unknwon/the-way-to-go_ZH_CN" aria-label="译者 GitHub" rel="noopener noreferrer" target="_blank"><!---->译者 GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://openai.com/" aria-label="官网" rel="noopener noreferrer" target="_blank"><!---->官网<!----></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/unknwon/the-way-to-go_ZH_CN" aria-label="译者 GitHub" rel="noopener noreferrer" target="_blank"><!---->译者 GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/preface.html" aria-label="前言"><!---->前言<!----></a><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">学习 Go 语言 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><p tabindex="0" class="vp-sidebar-item">第1章：Go 语言的起源，发展与普及 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/01.1.html" aria-label="1.1 起源与发展"><!---->1.1 起源与发展<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/01.2.html" aria-label="1.2 语言的主要特性与发展的环境和影响因素"><!---->1.2 语言的主要特性与发展的环境和影响因素<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item">第2章：安装与运行环境 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/02.1.html" aria-label="2.1 平台与架构"><!---->2.1 平台与架构<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/02.2.html" aria-label="2.2 Go 环境变量"><!---->2.2 Go 环境变量<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/02.3.html" aria-label="2.3 在 Linux 上安装 Go"><!---->2.3 在 Linux 上安装 Go<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/02.4.html" aria-label="2.4 在 Mac OS X 上安装 Go"><!---->2.4 在 Mac OS X 上安装 Go<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/02.5.html" aria-label="2.5 在 Windows 上安装 Go"><!---->2.5 在 Windows 上安装 Go<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/02.6.html" aria-label="2.6 安装目录清单"><!---->2.6 安装目录清单<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/02.7.html" aria-label="2.7 Go 运行时 (runtime)"><!---->2.7 Go 运行时 (runtime)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/02.8.html" aria-label="2.8 Go 解释器"><!---->2.8 Go 解释器<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item">第3章：编辑器、集成开发环境与其它工具 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/03.1.html" aria-label="3.1 Go 开发环境的基本要求"><!---->3.1 Go 开发环境的基本要求<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/03.2.html" aria-label="3.2 编辑器和集成开发环境"><!---->3.2 编辑器和集成开发环境<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/03.3.html" aria-label="3.3 调试器"><!---->3.3 调试器<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/03.4.html" aria-label="3.4 构建并运行 Go 程序"><!---->3.4 构建并运行 Go 程序<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/03.5.html" aria-label="3.5 格式化代码"><!---->3.5 格式化代码<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/03.6.html" aria-label="3.6 生成代码文档"><!---->3.6 生成代码文档<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/03.7.html" aria-label="3.7 其它工具"><!---->3.7 其它工具<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/03.8.html" aria-label="3.8 Go 性能说明"><!---->3.8 Go 性能说明<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-1/03.9.html" aria-label="3.9 与其它语言进行交互"><!---->3.9 与其它语言进行交互<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">语言的核心结构与技术 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><p tabindex="0" class="vp-sidebar-item">第4章：基本结构和基本数据类型 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/04.1.html" aria-label="4.1 文件名、关键字与标识符"><!---->4.1 文件名、关键字与标识符<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/04.2.html" aria-label="4.2 Go 程序的基本结构和要素"><!---->4.2 Go 程序的基本结构和要素<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/04.3.html" aria-label="4.3 常量"><!---->4.3 常量<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/04.4.html" aria-label="4.4 变量"><!---->4.4 变量<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/04.5.html" aria-label="4.5 基本类型和运算符"><!---->4.5 基本类型和运算符<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/04.6.html" aria-label="4.6 字符串"><!---->4.6 字符串<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/04.7.html" aria-label="4.7 strings 和 strconv 包"><!---->4.7 strings 和 strconv 包<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/04.8.html" aria-label="4.8 时间和日期"><!---->4.8 时间和日期<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/04.9.html" aria-label="4.9 指针"><!---->4.9 指针<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item">第5章：控制结构 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/05.1.html" aria-label="5.1 if-else 结构"><!---->5.1 if-else 结构<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/05.2.html" aria-label="5.2 测试多返回值函数的错误"><!---->5.2 测试多返回值函数的错误<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/05.3.html" aria-label="5.3 switch 结构"><!---->5.3 switch 结构<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/05.4.html" aria-label="5.4 for 结构"><!---->5.4 for 结构<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/05.5.html" aria-label="5.5 break 与 continue"><!---->5.5 break 与 continue<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/05.6.html" aria-label="5.6 标签与 goto"><!---->5.6 标签与 goto<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item active">第6章：函数（function） <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/06.1.html" aria-label="6.1 介绍"><!---->6.1 介绍<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/chapter-2/06.2.html" aria-label="6.2 函数参数与返回值"><!---->6.2 函数参数与返回值<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/06.3.html" aria-label="6.3 传递变长参数"><!---->6.3 传递变长参数<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/06.4.html" aria-label="6.4 defer 和追踪"><!---->6.4 defer 和追踪<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/06.5.html" aria-label="6.5 内置函数"><!---->6.5 内置函数<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/06.6.html" aria-label="6.6 递归函数"><!---->6.6 递归函数<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/06.7.html" aria-label="6.7 将函数作为参数"><!---->6.7 将函数作为参数<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/06.8.html" aria-label="6.8 闭包"><!---->6.8 闭包<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/06.9.html" aria-label="6.9 应用闭包：将函数作为返回值"><!---->6.9 应用闭包：将函数作为返回值<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/06.10.html" aria-label="6.10 使用闭包调试"><!---->6.10 使用闭包调试<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/06.11.html" aria-label="6.11 计算函数执行时间"><!---->6.11 计算函数执行时间<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/06.12.html" aria-label="6.12 通过内存缓存来提升性能"><!---->6.12 通过内存缓存来提升性能<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item active">第7章：数组与切片 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/06.1.html" aria-label="6.1 介绍"><!---->6.1 介绍<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/chapter-2/06.2.html" aria-label="6.2 函数参数与返回值"><!---->6.2 函数参数与返回值<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/06.3.html" aria-label="6.3 传递变长参数"><!---->6.3 传递变长参数<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/06.4.html" aria-label="6.4 defer 和追踪"><!---->6.4 defer 和追踪<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/06.5.html" aria-label="6.5 内置函数"><!---->6.5 内置函数<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/06.6.html" aria-label="6.6 递归函数"><!---->6.6 递归函数<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item">第8章：Map <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/08.1.html" aria-label="8.1 声明、初始化和 make"><!---->8.1 声明、初始化和 make<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/08.2.html" aria-label="8.2 测试键值对是否存在及删除元素"><!---->8.2 测试键值对是否存在及删除元素<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/08.3.html" aria-label="8.3 for-range 的配套用法"><!---->8.3 for-range 的配套用法<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/08.4.html" aria-label="8.4 map 类型的切片"><!---->8.4 map 类型的切片<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/08.5.html" aria-label="8.5 map 的排序"><!---->8.5 map 的排序<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/08.6.html" aria-label="8.6 将 map 的键值对调"><!---->8.6 将 map 的键值对调<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item">第9章：包（package） <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/09.1.html" aria-label="9.1 标准库概述"><!---->9.1 标准库概述<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/09.2.html" aria-label="9.2 regexp 包"><!---->9.2 regexp 包<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/09.3.html" aria-label="9.3 锁和 sync 包"><!---->9.3 锁和 sync 包<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/09.4.html" aria-label="9.4 精密计算和 big 包"><!---->9.4 精密计算和 big 包<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/09.5.html" aria-label="9.5 自定义包和可见性"><!---->9.5 自定义包和可见性<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/09.6.html" aria-label="9.6 为自定义包使用 godoc"><!---->9.6 为自定义包使用 godoc<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/09.7.html" aria-label="9.7 使用 go install 安装自定义包"><!---->9.7 使用 go install 安装自定义包<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/09.8.html" aria-label="9.8 自定义包的目录结构、go install 和 go test"><!---->9.8 自定义包的目录结构、go install 和 go test<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/09.9.html" aria-label="9.9 通过 Git 打包和安装"><!---->9.9 通过 Git 打包和安装<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/09.10.html" aria-label="9.10 Go 的外部包和项目"><!---->9.10 Go 的外部包和项目<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/09.11.html" aria-label="9.11 在 Go 程序中使用外部库"><!---->9.11 在 Go 程序中使用外部库<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item">第10章：结构（struct）与方法（method） <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/10.1.html" aria-label="10.1 结构体定义"><!---->10.1 结构体定义<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/10.2.html" aria-label="10.2 使用工厂方法创建结构体实例"><!---->10.2 使用工厂方法创建结构体实例<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/10.3.html" aria-label="10.3 使用自定义包中的结构体"><!---->10.3 使用自定义包中的结构体<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/10.4.html" aria-label="10.4 带标签的结构体"><!---->10.4 带标签的结构体<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/10.5.html" aria-label="10.5 匿名字段和内嵌结构体"><!---->10.5 匿名字段和内嵌结构体<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/10.6.html" aria-label="10.6 方法"><!---->10.6 方法<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/10.7.html" aria-label="10.7 类型的 String() 方法和格式化描述符"><!---->10.7 类型的 String() 方法和格式化描述符<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/10.8.html" aria-label="10.8 垃圾回收和 SetFinalizer"><!---->10.8 垃圾回收和 SetFinalizer<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item">第11章：接口（interface）与反射（reflection） <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/11.1.html" aria-label="11.1 接口是什么"><!---->11.1 接口是什么<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/11.2.html" aria-label="11.2 接口嵌套接口"><!---->11.2 接口嵌套接口<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/11.3.html" aria-label="11.3 类型断言：如何检测和转换接口变量的类型"><!---->11.3 类型断言：如何检测和转换接口变量的类型<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/11.4.html" aria-label="11.4 类型判断：type-switch"><!---->11.4 类型判断：type-switch<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/11.5.html" aria-label="11.5 测试一个值是否实现了某个接口"><!---->11.5 测试一个值是否实现了某个接口<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/11.6.html" aria-label="11.6 使用方法集与接口"><!---->11.6 使用方法集与接口<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/11.7.html" aria-label="11.7 第一个例子：使用 Sorter 接口排序"><!---->11.7 第一个例子：使用 Sorter 接口排序<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/11.8.html" aria-label="11.8 第二个例子：读和写"><!---->11.8 第二个例子：读和写<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/11.9.html" aria-label="11.9 空接口"><!---->11.9 空接口<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/11.10.html" aria-label="11.10 反射包"><!---->11.10 反射包<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/11.11.html" aria-label="11.11 Printf() 和反射"><!---->11.11 Printf() 和反射<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/11.12.html" aria-label="11.12 接口与动态类型"><!---->11.12 接口与动态类型<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/11.13.html" aria-label="11.13 总结：Go 中的面向对象"><!---->11.13 总结：Go 中的面向对象<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-2/11.14.html" aria-label="11.14 结构体、集合和高阶函数"><!---->11.14 结构体、集合和高阶函数<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Go 高级编程 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><p tabindex="0" class="vp-sidebar-item">第12章：读写数据 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/12.1.html" aria-label="12.1 读取用户的输入"><!---->12.1 读取用户的输入<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/12.2.html" aria-label="12.2 文件读写"><!---->12.2 文件读写<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/12.3.html" aria-label="12.3 文件拷贝"><!---->12.3 文件拷贝<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/12.4.html" aria-label="12.4 从命令行读取参数"><!---->12.4 从命令行读取参数<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/12.5.html" aria-label="12.5 用 buffer 读取文件"><!---->12.5 用 buffer 读取文件<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/12.6.html" aria-label="12.6 用切片读写文件"><!---->12.6 用切片读写文件<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/12.7.html" aria-label="12.7 用 defer 关闭文件"><!---->12.7 用 defer 关闭文件<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/12.8.html" aria-label="12.8 使用接口的实际例子：fmt.Fprintf"><!---->12.8 使用接口的实际例子：fmt.Fprintf<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/12.9.html" aria-label="12.9 JSON 数据格式"><!---->12.9 JSON 数据格式<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/12.10.html" aria-label="12.10 XML 数据格式"><!---->12.10 XML 数据格式<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/12.11.html" aria-label="12.11 用 Gob 传输数据"><!---->12.11 用 Gob 传输数据<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/12.12.html" aria-label="12.12 Go 中的密码学"><!---->12.12 Go 中的密码学<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item">第13章：错误处理与测试 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/13.1.html" aria-label="13.1 错误处理"><!---->13.1 错误处理<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/13.2.html" aria-label="13.2 运行时异常和 panic"><!---->13.2 运行时异常和 panic<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/13.3.html" aria-label="13.3 从 panic 中恢复 (recover)"><!---->13.3 从 panic 中恢复 (recover)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/13.4.html" aria-label="13.4 自定义包中的错误处理和 panicking"><!---->13.4 自定义包中的错误处理和 panicking<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/13.5.html" aria-label="13.5 一种用闭包处理错误的模式"><!---->13.5 一种用闭包处理错误的模式<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/13.6.html" aria-label="13.6 启动外部命令和程序"><!---->13.6 启动外部命令和程序<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/13.7.html" aria-label="13.7 Go 中的单元测试和基准测试"><!---->13.7 Go 中的单元测试和基准测试<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/13.8.html" aria-label="13.8 测试的具体例子"><!---->13.8 测试的具体例子<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/13.9.html" aria-label="13.9 用（测试数据）表驱动测试"><!---->13.9 用（测试数据）表驱动测试<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/13.10.html" aria-label="13.10 性能调试：分析并优化 Go 程序"><!---->13.10 性能调试：分析并优化 Go 程序<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item">第14章：协程 (goroutine) 与通道 (channel) <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.1.html" aria-label="14.1 并发、并行和协程"><!---->14.1 并发、并行和协程<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.2.html" aria-label="14.2 协程间的信道"><!---->14.2 协程间的信道<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.3.html" aria-label="14.3 协程的同步：关闭通道-测试阻塞的通道"><!---->14.3 协程的同步：关闭通道-测试阻塞的通道<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.4.html" aria-label="14.4 使用 select 切换协程"><!---->14.4 使用 select 切换协程<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.5.html" aria-label="14.5 通道、超时和计时器（Ticker）"><!---->14.5 通道、超时和计时器（Ticker）<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.6.html" aria-label="14.6 协程和恢复 (recover)"><!---->14.6 协程和恢复 (recover)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.7.html" aria-label="14.7 新旧模型对比：任务和 worker"><!---->14.7 新旧模型对比：任务和 worker<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.8.html" aria-label="14.8 惰性生成器的实现"><!---->14.8 惰性生成器的实现<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.9.html" aria-label="14.9 实现 Futures 模式"><!---->14.9 实现 Futures 模式<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.10.html" aria-label="14.10 复用"><!---->14.10 复用<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.11.html" aria-label="14.11 限制同时处理的请求数"><!---->14.11 限制同时处理的请求数<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.12.html" aria-label="14.12 链式协程"><!---->14.12 链式协程<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.13.html" aria-label="14.13 在多核心上并行计算"><!---->14.13 在多核心上并行计算<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.14.html" aria-label="14.14 并行化大量数据的计算"><!---->14.14 并行化大量数据的计算<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.15.html" aria-label="14.15 漏桶算法"><!---->14.15 漏桶算法<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.16.html" aria-label="14.16 对 Go 协程进行基准测试"><!---->14.16 对 Go 协程进行基准测试<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/14.17.html" aria-label="14.17 使用通道并发访问对象"><!---->14.17 使用通道并发访问对象<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item">第 15 章：网络、模板与网页应用 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/15.1.html" aria-label="15.1 tcp 服务器"><!---->15.1 tcp 服务器<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/15.2.html" aria-label="15.2 一个简单的 web 服务器"><!---->15.2 一个简单的 web 服务器<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/15.3.html" aria-label="15.3 访问并读取页面数据"><!---->15.3 访问并读取页面数据<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/15.4.html" aria-label="15.4 写一个简单的网页应用"><!---->15.4 写一个简单的网页应用<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/15.5.html" aria-label="15.5 确保网页应用健壮"><!---->15.5 确保网页应用健壮<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/15.6.html" aria-label="15.6 用模板编写网页应用"><!---->15.6 用模板编写网页应用<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/15.7.html" aria-label="15.7 探索 template 包"><!---->15.7 探索 template 包<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/15.8.html" aria-label="15.8 精巧的多功能网页服务器"><!---->15.8 精巧的多功能网页服务器<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/15.9.html" aria-label="15.9 用 rpc 实现远程过程调用"><!---->15.9 用 rpc 实现远程过程调用<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/15.10.html" aria-label="15.10 基于网络的通道 netchan"><!---->15.10 基于网络的通道 netchan<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/15.11.html" aria-label="15.11 与 websocket 通信"><!---->15.11 与 websocket 通信<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-3/15.12.html" aria-label="15.12 用 smtp 发送邮件"><!---->15.12 用 smtp 发送邮件<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">实际应用 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><p tabindex="0" class="vp-sidebar-item">第16章：常见的陷阱与错误 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/16.1.html" aria-label="16.1 误用短声明导致变量覆盖"><!---->16.1 误用短声明导致变量覆盖<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/16.2.html" aria-label="16.2 误用字符串"><!---->16.2 误用字符串<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/16.3.html" aria-label="16.3 发生错误时使用 defer 关闭一个文件"><!---->16.3 发生错误时使用 defer 关闭一个文件<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/16.4.html" aria-label="16.4 何时使用 new() 和 make()"><!---->16.4 何时使用 new() 和 make()<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/16.5.html" aria-label="16.5 不需要将一个指向切片的指针传递给函数"><!---->16.5 不需要将一个指向切片的指针传递给函数<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/16.6.html" aria-label="16.6 使用指针指向接口类型"><!---->16.6 使用指针指向接口类型<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/16.7.html" aria-label="16.7 使用值类型时误用指针"><!---->16.7 使用值类型时误用指针<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/16.8.html" aria-label="16.8 误用协程和通道"><!---->16.8 误用协程和通道<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/16.9.html" aria-label="16.9 闭包和协程的使用"><!---->16.9 闭包和协程的使用<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/16.10.html" aria-label="16.10 糟糕的错误处理"><!---->16.10 糟糕的错误处理<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item">第17章：模式 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/17.1.html" aria-label="17.1 逗号 ok 模式"><!---->17.1 逗号 ok 模式<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/17.2.html" aria-label="17.2 defer 模式"><!---->17.2 defer 模式<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/17.3.html" aria-label="17.3 可见性模式"><!---->17.3 可见性模式<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/17.4.html" aria-label="17.4 运算符模式和接口"><!---->17.4 运算符模式和接口<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item">第18章：出于性能考虑的实用代码片段 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/18.1.html" aria-label="18.1 字符串"><!---->18.1 字符串<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/18.2.html" aria-label="18.2 数组和切片"><!---->18.2 数组和切片<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/18.3.html" aria-label="18.3 映射"><!---->18.3 映射<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/18.4.html" aria-label="18.4 结构体"><!---->18.4 结构体<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/18.5.html" aria-label="18.5 接口"><!---->18.5 接口<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/18.6.html" aria-label="18.6 函数"><!---->18.6 函数<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/18.7.html" aria-label="18.7 文件"><!---->18.7 文件<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/18.8.html" aria-label="18.8 协程 (goroutine) 与通道 (channel)"><!---->18.8 协程 (goroutine) 与通道 (channel)<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/18.9.html" aria-label="18.9 网络和网页应用"><!---->18.9 网络和网页应用<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/18.10.html" aria-label="18.10 其他"><!---->18.10 其他<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/18.11.html" aria-label="18.11 出于性能考虑的最佳实践和建议"><!---->18.11 出于性能考虑的最佳实践和建议<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item">第19章：构建一个完整的应用程序 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/19.1.html" aria-label="19.1 简介"><!---->19.1 简介<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/19.2.html" aria-label="19.2 短网址项目简介"><!---->19.2 短网址项目简介<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/19.3.html" aria-label="版本 1 - 数据结构和前端界面"><!---->版本 1 - 数据结构和前端界面<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/19.4.html" aria-label="19.4 用户界面：web 服务端"><!---->19.4 用户界面：web 服务端<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/19.5.html" aria-label="版本 2 - 添加持久化存储"><!---->版本 2 - 添加持久化存储<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/19.6.html" aria-label="版本 3 - 添加协程"><!---->版本 3 - 添加协程<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/19.7.html" aria-label="版本 4 - 用 JSON 持久化存储"><!---->版本 4 - 用 JSON 持久化存储<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/19.8.html" aria-label="版本 5 - 分布式程序"><!---->版本 5 - 分布式程序<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/19.9.html" aria-label="19.9 使用代理缓存"><!---->19.9 使用代理缓存<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/19.10.html" aria-label="19.10 总结和增强"><!---->19.10 总结和增强<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item">第20章：Go 语言在 Google App Engine 的使用 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/20.1.html" aria-label="20.1 什么是 Google App Engine？"><!---->20.1 什么是 Google App Engine？<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/20.2.html" aria-label="20.2 云上的 Go"><!---->20.2 云上的 Go<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/20.3.html" aria-label="20.3 安装 Go App Engine SDK：为 Go 部署的开发环境"><!---->20.3 安装 Go App Engine SDK：为 Go 部署的开发环境<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/20.4.html" aria-label="20.4 建造你自己的 Hello world 应用"><!---->20.4 建造你自己的 Hello world 应用<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/20.5.html" aria-label="20.5 使用用户服务和探索其 API"><!---->20.5 使用用户服务和探索其 API<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/20.6.html" aria-label="20.6 处理窗口"><!---->20.6 处理窗口<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/20.7.html" aria-label="20.7 使用数据存储"><!---->20.7 使用数据存储<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/20.8.html" aria-label="20.8 上传到云端"><!---->20.8 上传到云端<!----></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item">第21章：实世界中 Go 的使用 <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/21.1.html" aria-label="21.1 Heroku：一个使用 Go 的高度可用一致数据存储"><!---->21.1 Heroku：一个使用 Go 的高度可用一致数据存储<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/21.2.html" aria-label="21.2 MROffice：一个使用 Go 的呼叫中心网络电话 (VOIP) 系统"><!---->21.2 MROffice：一个使用 Go 的呼叫中心网络电话 (VOIP) 系统<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/21.3.html" aria-label="21.3 Atlassian：一个虚拟机群管理系统"><!---->21.3 Atlassian：一个虚拟机群管理系统<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/21.4.html" aria-label="21.4 Camilistore：一个可寻址内容存储系统"><!---->21.4 Camilistore：一个可寻址内容存储系统<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/chapter-4/21.5.html" aria-label="21.5 Go 语言的其他应用"><!---->21.5 Go 语言的其他应用<!----></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="_6-2-函数参数与返回值" tabindex="-1"><a class="header-anchor" href="#_6-2-函数参数与返回值"><span>6.2 函数参数与返回值</span></a></h1><p>函数能够接收参数供自己使用，也可以返回零个或多个值（我们通常把返回多个值称为返回一组值）。相比与 C、C++、Java 和 C#，多值返回是 Go 的一大特性，为我们判断一个函数是否正常执行（参考 <a class="route-link" href="/chapter-2/05.2.html">第 5.2 节</a>）提供了方便。</p><p>我们通过 <code>return</code> 关键字返回一组值。事实上，任何一个有返回值（单个或多个）的函数都必须以 <code>return</code> 或 <code>panic</code>（参考 <a class="route-link" href="/chapter-2/13.0.html">第 13 章</a>）结尾。</p><p>在函数块里面，<code>return</code> 之后的语句都不会执行。如果一个函数需要返回值，那么这个函数里面的每一个代码分支 (code-path) 都要有 <code>return</code> 语句。</p><p>问题 6.1：下面的函数将不会被编译，为什么呢？大家可以试着纠正过来。</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token punctuation">(</span>st <span class="token operator">*</span>Stack<span class="token punctuation">)</span> <span class="token function">Pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span></span>
<span class="line">    v <span class="token operator">:=</span> <span class="token number">0</span></span>
<span class="line">    <span class="token keyword">for</span> ix <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>st<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> ix <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> ix<span class="token operator">--</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> v <span class="token operator">=</span> st<span class="token punctuation">[</span>ix<span class="token punctuation">]</span><span class="token punctuation">;</span> v <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">{</span></span>
<span class="line">            st<span class="token punctuation">[</span>ix<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line">            <span class="token keyword">return</span> v</span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span>    </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>函数定义时，它的形参一般是有名字的，不过我们也可以定义没有形参名的函数，只有相应的形参类型，就像这样：<code>func f(int, int, float64)</code>。</p><p>没有参数的函数通常被称为 <strong>niladic</strong> 函数 (niladic function)，就像 <code>main.main()</code>。</p><h2 id="_6-2-1-按值传递-call-by-value-按引用传递-call-by-reference" tabindex="-1"><a class="header-anchor" href="#_6-2-1-按值传递-call-by-value-按引用传递-call-by-reference"><span>6.2.1 按值传递 (call by value) 按引用传递 (call by reference)</span></a></h2><p>Go 默认使用按值传递来传递参数，也就是传递参数的副本。函数接收参数副本之后，在使用变量的过程中可能对副本的值进行更改，但不会影响到原来的变量，比如 <code>Function(arg1)</code>。</p><p>如果你希望函数可以直接修改参数的值，而不是对参数的副本进行操作，你需要将参数的地址（变量名前面添加 <code>&amp;</code> 符号，比如 <code>&amp;variable</code>）传递给函数，这就是按引用传递，比如 <code>Function(&amp;arg1)</code>，此时传递给函数的是一个指针。如果传递给函数的是一个指针，指针的值（一个地址）会被复制，但指针的值所指向的地址上的值不会被复制；我们可以通过这个指针的值来修改这个值所指向的地址上的值。（<strong>译者注：指针也是变量类型，有自己的地址和值，通常指针的值指向一个变量的地址。所以，按引用传递也是按值传递。</strong>）</p><p>几乎在任何情况下，传递指针（一个32位或者64位的值）的消耗都比传递副本来得少。</p><p>在函数调用时，像切片 (slice)、字典 (map)、接口 (interface)、通道 (channel) 这样的引用类型都是默认使用引用传递（即使没有显式的指出指针）。</p><p>有些函数只是完成一个任务，并没有返回值。我们仅仅是利用了这种函数的副作用 (side-effect)，就像输出文本到终端，发送一个邮件或者是记录一个错误等。</p><p>但是绝大部分的函数还是带有返回值的。</p><p>如下，simple_function.go 里的 <code>MultiPly3Nums</code> 函数带有三个形参，分别是 <code>a</code>、<code>b</code>、<code>c</code>，还有一个 <code>int</code> 类型的返回值（被注释的代码具有和未注释部分同样的功能，只是多引入了一个本地变量）：</p><p>示例 6.2 <a href="examples/chapter_6/simple_function.go">simple_function.go</a></p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">package</span> main</span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Multiply 2 * 5 * 6 = %d\n&quot;</span><span class="token punctuation">,</span> <span class="token function">MultiPly3Nums</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment">// var i1 int = MultiPly3Nums(2, 5, 6)</span></span>
<span class="line">    <span class="token comment">// fmt.Printf(&quot;MultiPly 2 * 5 * 6 = %d\n&quot;, i1)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">MultiPly3Nums</span><span class="token punctuation">(</span>a <span class="token builtin">int</span><span class="token punctuation">,</span> b <span class="token builtin">int</span><span class="token punctuation">,</span> c <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// var product int = a * b * c</span></span>
<span class="line">    <span class="token comment">// return product</span></span>
<span class="line">    <span class="token keyword">return</span> a <span class="token operator">*</span> b <span class="token operator">*</span> c</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出显示：</p><pre><code>Multiply 2 * 5 * 6 = 60
</code></pre><p>如果一个函数需要返回四到五个值，我们可以传递一个切片给函数（如果返回值具有相同类型）或者是传递一个结构体（如果返回值具有不同的类型）。因为传递一个指针允许直接修改变量的值，消耗也更少。</p><p>问题 6.2：</p><p>如下的两个函数调用有什么不同：</p><pre><code>(A) func DoSomething(a *A) {
        b = a
    }

(B) func DoSomething(a A) {
        b = &amp;a
    }
</code></pre><h2 id="_6-2-2-命名的返回值-named-return-variables" tabindex="-1"><a class="header-anchor" href="#_6-2-2-命名的返回值-named-return-variables"><span>6.2.2 命名的返回值 (named return variables)</span></a></h2><p>如下 multiple_return.go 里的函数带有一个 <code>int</code> 参数，返回两个 <code>int</code> 值；其中一个函数的返回值在函数调用时就已经被赋予了一个初始零值。</p><p><code>getX2AndX3</code> 与 <code>getX2AndX3_2</code> 两个函数演示了如何使用非命名返回值与命名返回值的特性。当需要返回多个非命名返回值时，需要使用 <code>()</code> 把它们括起来，比如 <code>(int, int)</code>。</p><p>命名返回值作为结果形参 (result parameters) 被初始化为相应类型的零值，当需要返回的时候，我们只需要一条简单的不带参数的 <code>return</code> 语句。需要注意的是，即使只有一个命名返回值，也需要使用 <code>()</code> 括起来（参考<a class="route-link" href="/chapter-2/06.6.html">第 6.6 节</a> 的 <a href="./examples/chapter_6/fibonacci.go">fibonacci.go</a> 函数）。</p><p>示例 6.3 <a href="examples/chapter_6/multiple_return.go">multiple_return.go</a></p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">package</span> main</span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">var</span> num <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span></span>
<span class="line"><span class="token keyword">var</span> numx2<span class="token punctuation">,</span> numx3 <span class="token builtin">int</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    numx2<span class="token punctuation">,</span> numx3 <span class="token operator">=</span> <span class="token function">getX2AndX3</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">PrintValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    numx2<span class="token punctuation">,</span> numx3 <span class="token operator">=</span> <span class="token function">getX2AndX3_2</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">PrintValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">PrintValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;num = %d, 2x num = %d, 3x num = %d\n&quot;</span><span class="token punctuation">,</span> num<span class="token punctuation">,</span> numx2<span class="token punctuation">,</span> numx3<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">getX2AndX3</span><span class="token punctuation">(</span>input <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">2</span> <span class="token operator">*</span> input<span class="token punctuation">,</span> <span class="token number">3</span> <span class="token operator">*</span> input</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">getX2AndX3_2</span><span class="token punctuation">(</span>input <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>x2 <span class="token builtin">int</span><span class="token punctuation">,</span> x3 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    x2 <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> input</span>
<span class="line">    x3 <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">*</span> input</span>
<span class="line">    <span class="token comment">// return x2, x3</span></span>
<span class="line">    <span class="token keyword">return</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出结果：</p><pre><code>num = 10, 2x num = 20, 3x num = 30    
num = 10, 2x num = 20, 3x num = 30 
</code></pre><p>提示：</p><p>虽然 <code>return</code> 或 <code>return var</code> 都是可以的，但是 <code>return var = expression</code>（表达式） 会引发一个编译错误：</p><p><code>syntax error: unexpected =, expecting semicolon or newline or }</code>。</p><p>即使函数使用了命名返回值，你依旧可以无视它而返回明确的值。</p><p>任何一个非命名返回值（使用非命名返回值是很糟的编程习惯）在 <code>return</code> 语句里面都要明确指出包含返回值的变量或是一个可计算的值（就像上面警告所指出的那样）。</p><p><strong>尽量使用命名返回值：会使代码更清晰、更简短，同时更加容易读懂。</strong></p><p>练习 6.1 <a href="exercises/chapter_6/mult_returnval.go">mult_returnval.go</a></p><p>编写一个函数，接收两个整数，然后返回它们的和、积与差。编写两个版本，一个是非命名返回值，一个是命名返回值。</p><p>练习 6.2 <a href="exercises/chapter_6/error_returnval.go">error_returnval.go</a></p><p>编写一个名字为 <code>MySqrt()</code> 的函数，计算一个 <code>float64</code> 类型浮点数的平方根，如果参数是一个负数的话将返回一个错误。编写两个版本，一个是非命名返回值，一个是命名返回值。</p><h2 id="_6-2-3-空白符-blank-identifier" tabindex="-1"><a class="header-anchor" href="#_6-2-3-空白符-blank-identifier"><span>6.2.3 空白符 (blank identifier)</span></a></h2><p>空白符用来匹配一些不需要的值，然后丢弃掉，下面的 blank_identifier.go 就是很好的例子。</p><p><code>ThreeValues</code> 是拥有三个返回值的不需要任何参数的函数，在下面的例子中，我们将第一个与第三个返回值赋给了 <code>i1</code> 与 <code>f1</code>。第二个返回值赋给了空白符 <code>_</code>，然后自动丢弃掉。</p><p>示例 6.4 <a href="examples/chapter_6/blank_identifier.go">blank_identifier.go</a></p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">package</span> main</span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> i1 <span class="token builtin">int</span></span>
<span class="line">    <span class="token keyword">var</span> f1 <span class="token builtin">float32</span></span>
<span class="line">    i1<span class="token punctuation">,</span> <span class="token boolean">_</span><span class="token punctuation">,</span> f1 <span class="token operator">=</span> <span class="token function">ThreeValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;The int: %d, the float: %f \n&quot;</span><span class="token punctuation">,</span> i1<span class="token punctuation">,</span> f1<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">ThreeValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">float32</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7.5</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出结果：</p><pre><code>The int: 5, the float: 7.500000
</code></pre><p>另外一个示例，函数接收两个参数，比较它们的大小，然后按小-大的顺序返回这两个数，示例代码为 minmax.go。</p><p>示例 6.5 <a href="examples/chapter_6/minmax.go">minmax.go</a></p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">package</span> main</span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> min<span class="token punctuation">,</span> max <span class="token builtin">int</span></span>
<span class="line">    min<span class="token punctuation">,</span> max <span class="token operator">=</span> <span class="token function">MinMax</span><span class="token punctuation">(</span><span class="token number">78</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">)</span></span>
<span class="line">    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Minmium is: %d, Maximum is: %d\n&quot;</span><span class="token punctuation">,</span> min<span class="token punctuation">,</span> max<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">MinMax</span><span class="token punctuation">(</span>a <span class="token builtin">int</span><span class="token punctuation">,</span> b <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>min <span class="token builtin">int</span><span class="token punctuation">,</span> max <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> a <span class="token operator">&lt;</span> b <span class="token punctuation">{</span></span>
<span class="line">        min <span class="token operator">=</span> a</span>
<span class="line">        max <span class="token operator">=</span> b</span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// a = b or a &lt; b</span></span>
<span class="line">        min <span class="token operator">=</span> b</span>
<span class="line">        max <span class="token operator">=</span> a</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">return</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出结果：</p><pre><code>Minimum is: 65, Maximum is 78
</code></pre><h2 id="_6-2-4-改变外部变量-outside-variable" tabindex="-1"><a class="header-anchor" href="#_6-2-4-改变外部变量-outside-variable"><span>6.2.4 改变外部变量 (outside variable)</span></a></h2><p>传递指针给函数不但可以节省内存（因为没有复制变量的值），而且赋予了函数直接修改外部变量的能力，所以被修改的变量不再需要使用 <code>return</code> 返回。如下的例子，<code>reply</code> 是一个指向 <code>int</code> 变量的指针，通过这个指针，我们在函数内修改了这个 <code>int</code> 变量的数值。</p><p>示例 6.6 <a href="examples/chapter_6/side_effect.go">side_effect.go</a></p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">package</span> main</span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token string">&quot;fmt&quot;</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// this function changes reply:</span></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">Multiply</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b <span class="token builtin">int</span><span class="token punctuation">,</span> reply <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token operator">*</span>reply <span class="token operator">=</span> a <span class="token operator">*</span> b</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    n <span class="token operator">:=</span> <span class="token number">0</span></span>
<span class="line">    reply <span class="token operator">:=</span> <span class="token operator">&amp;</span>n</span>
<span class="line">    <span class="token function">Multiply</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> reply<span class="token punctuation">)</span></span>
<span class="line">    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Multiply:&quot;</span><span class="token punctuation">,</span> <span class="token operator">*</span>reply<span class="token punctuation">)</span> <span class="token comment">// Multiply: 50</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这仅仅是个指导性的例子，当需要在函数内改变一个占用内存比较大的变量时，性能优势就更加明显了。然而，如果不小心使用的话，传递一个指针很容易引发一些不确定的事，所以，我们要十分小心那些可以改变外部变量的函数，在必要时，需要添加注释以便其他人能够更加清楚的知道函数里面到底发生了什么。</p><h2 id="链接" tabindex="-1"><a class="header-anchor" href="#链接"><span>链接</span></a></h2><ul><li><a class="route-link" href="/chapter-2/directory.html">目录</a></li><li>上一节：<a class="route-link" href="/chapter-2/06.1.html">函数介绍</a></li><li>下一节：<a class="route-link" href="/chapter-2/06.3.html">传递变长参数</a></li></ul></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/chapter-2/06.1.html" aria-label="6.1 介绍"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>6.1 介绍</span></div></a><a class="route-link auto-link next" href="/chapter-2/06.3.html" aria-label="6.3 传递变长参数"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>6.3 传递变长参数</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-DtITwm2S.js" defer></script>
  </body>
</html>
